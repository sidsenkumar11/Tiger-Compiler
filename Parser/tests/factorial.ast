(program let (declseg typedecls (vardecls (vardecl var (ids a , (ids b , (ids c))) : (type int) optinit ;) (vardecls (vardecl var (ids d , (ids e , (ids f))) : (type float) optinit ;) vardecls)) (funcdecls (funcdecl func fact ( (params (neparams (param n : (type int)))) ) (optrettype : (type int)) begin (stmts (fullstmt (stmt if (boolexpr (clause (pred ( (boolexpr (clause (pred (numexpr (term (factor n))) (boolop =) (numexpr (term (factor (const 0))))))) )))) then (stmts (fullstmt (stmt return (numexpr (term (factor (const 1))))) ;)) endif) ;) (stmts (fullstmt (stmt if (boolexpr (clause (pred ( (boolexpr (clause (pred (numexpr (term (factor n))) (boolop =) (numexpr (term (factor (const 1))))))) )))) then (stmts (fullstmt (stmt return (numexpr (term (factor (const 1))))) ;)) endif) ;) (stmts (fullstmt (stmt (optstore (lvalue a optoffset) :=) fact ( (numexprs (neexprs (numexpr (numexpr (term (factor n))) (linop -) (term (factor (const 1)))))) )) ;) (stmts (fullstmt (stmt return (numexpr (term (term (factor n)) (nonlinop *) (factor a)))) ;))))) end ;) (funcdecls (funcdecl func factf ( (params (neparams (param n : (type float)))) ) (optrettype : (type float)) begin (stmts (fullstmt (stmt if (boolexpr (clause (pred ( (boolexpr (clause (pred (numexpr (term (factor n))) (boolop <=) (numexpr (term (factor (const 0))))))) )))) then (stmts (fullstmt (stmt return (numexpr (term (factor (const 1))))) ;)) endif) ;) (stmts (fullstmt (stmt if (boolexpr (clause (pred ( (boolexpr (clause (pred (numexpr (term (factor n))) (boolop <=) (numexpr (term (factor (const 1))))))) )))) then (stmts (fullstmt (stmt return (numexpr (term (factor (const 1))))) ;)) endif) ;) (stmts (fullstmt (stmt (optstore (lvalue d optoffset) :=) factf ( (numexprs (neexprs (numexpr (numexpr (term (factor n))) (linop -) (term (factor (const 1)))))) )) ;) (stmts (fullstmt (stmt return (numexpr (term (term (factor n)) (nonlinop *) (factor d)))) ;))))) end ;) funcdecls))) in (stmts (fullstmt (stmt (optstore (lvalue c optoffset) :=) fact ( (numexprs (neexprs (numexpr (term (factor (const 6)))))) )) ;) (stmts (fullstmt (stmt optstore printi ( (numexprs (neexprs (numexpr (term (factor c))))) )) ;) (stmts (fullstmt (stmt (optstore (lvalue f optoffset) :=) factf ( (numexprs (neexprs (numexpr (term (factor (const 6.0)))))) )) ;) (stmts (fullstmt (stmt optstore printf ( (numexprs (neexprs (numexpr (term (factor f))))) )) ;) (stmts (fullstmt (stmt if (boolexpr (clause (pred ( (boolexpr (clause (pred (numexpr (term (factor c))) (boolop =) (numexpr (term (factor f)))))) )))) then (stmts (fullstmt (stmt optstore printi ( (numexprs (neexprs (numexpr (term (factor (const 1)))))) )) ;)) endif) ;)))))) end)
